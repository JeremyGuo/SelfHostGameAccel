# 客户端可视化需求对齐

以下约束补充了客户端和服务端在可视化管理时需要满足的交互要点，确保“所有配置都可视化可操作”的目标：

## 登录/注册入口
- 打开客户端后首先出现**服务器地址、账号、密码**的输入框，并提供登录/注册切换。
- 请求统一走控制面 API，注册与登录成功后在本地存储会话/设备 token，后续自动复用。

## 管理员角色
- 服务器检测到**首个注册的账号**时自动授予管理员权限（已在控制面接口中实现）。
- 管理界面需要展示当前账号是否为管理员，以及可见的管理入口（用户与房间管理）。

## 用户与权限管理（仅管理员）
- 通过 UI 可以：
  - 注册新的账号。
  - 对已有账号执行**授予/撤销管理员**操作；若系统只剩最后一名管理员，应禁止撤销。
- 界面上明确提示目标账号与变更结果。

## 房间生命周期
- 只有管理员可以创建/删除房间；房间创建表单至少包含房间名、传输协议（UDP/TCP）、MTU。
- 普通用户看到房间列表后，可选择房间并点击“加入”；加入时选择或自动填写设备 ID。

## 配置与状态可视化
- 控制面配置（服务器地址、首选传输、MTU、房间列表）应在 UI 中可视化展示并允许点击修改。
- 隧道状态（连接中、已连接、失败原因）与心跳/延迟等指标在界面上实时反馈。

## 面向后续实现的控制面端点
- 创建房间要求会话 token 且必须由管理员发起。
- `/admin/role` 端点用于授予或撤销管理员权限，方便 UI 直接调用。

这些要求与现有 CLI/控制面实现保持一致，便于后续将核心逻辑接入桌面 UI（Wails/Tauri 等）。
